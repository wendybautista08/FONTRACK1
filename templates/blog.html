<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog | Fontrack</title>
    <link rel="stylesheet" href="../static/style2.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <img src="..//static/img/FK.jpeg" alt="Logo Fontrack" class="logo">
        <h1>FONTRACK</h1>
    </header>

    <!-- Secci√≥n para crear un nuevo art√≠culo -->
    <section class="blog-form-section">
        <h2>Publicar un nuevo art√≠culo üìù</h2>
        <form id="blogForm">
            <input type="text" id="titulo" placeholder="T√≠tulo del art√≠culo" required>
            <textarea id="contenido" placeholder="Escribe tu contenido aqu√≠..." required></textarea>
            <button type="submit" class="btn">Publicar</button>
        </form>
    </section>

    <!-- Secci√≥n para mostrar los art√≠culos -->
    <section class="blog-list-section">
        <h2>Art√≠culos publicados üìö</h2>
        <div id="listaArticulos">
            <!-- Aqu√≠ se insertan din√°micamente los art√≠culos -->
        </div>
    </section>

 <script>
    const form = document.getElementById('blogForm');
    const listaArticulos = document.getElementById('listaArticulos');

    // üöÄ Cargar art√≠culos guardados al iniciar
    document.addEventListener('DOMContentLoaded', () => {
        const articulosGuardados = obtenerArticulos();
        articulosGuardados.forEach(art => mostrarArticulo(art));
    });

    // üìù Publicar nuevo art√≠culo
    form.addEventListener('submit', (e) => {
        e.preventDefault();

        const titulo = document.getElementById('titulo').value;
        const contenido = document.getElementById('contenido').value;

        if (titulo.trim() && contenido.trim()) {
            const nuevoArticulo = {
                id: Date.now(), // ID √∫nico
                titulo,
                contenido
            };

            const articulos = obtenerArticulos();
            articulos.push(nuevoArticulo);
            guardarArticulos(articulos);

            mostrarArticulo(nuevoArticulo);
            form.reset();
        }
    });

    // üß± Mostrar art√≠culo en pantalla
    function mostrarArticulo(articuloData) {
        const { id, titulo, contenido } = articuloData;
        const articulo = document.createElement('div');
        articulo.classList.add('articulo');
        articulo.dataset.id = id;

        articulo.innerHTML = `
            <div class="articulo-header">
                <h3>${titulo}</h3>
                <div class="acciones">
                    <button class="editar" title="Editar">‚úèÔ∏è</button>
                    <button class="eliminar" title="Eliminar">üóëÔ∏è</button>
                </div>
            </div>
            <p>${contenido}</p>
        `;

        // Bot√≥n eliminar
        articulo.querySelector('.eliminar').addEventListener('click', () => {
            eliminarArticulo(id);
        });

        // Bot√≥n editar
        articulo.querySelector('.editar').addEventListener('click', () => {
            editarArticulo(id);
        });

        listaArticulos.appendChild(articulo);
    }

    // ‚ùå Eliminar art√≠culo
    function eliminarArticulo(id) {
        let articulos = obtenerArticulos();
        articulos = articulos.filter(art => art.id !== id);
        guardarArticulos(articulos);
        recargarArticulos();
    }

    // ‚úèÔ∏è Editar art√≠culo
    function editarArticulo(id) {
        let articulos = obtenerArticulos();
        const index = articulos.findIndex(art => art.id === id);
        if (index === -1) return;

        const nuevoTitulo = prompt("Editar t√≠tulo:", articulos[index].titulo);
        const nuevoContenido = prompt("Editar contenido:", articulos[index].contenido);

        if (nuevoTitulo !== null && nuevoContenido !== null) {
            articulos[index].titulo = nuevoTitulo;
            articulos[index].contenido = nuevoContenido;
            guardarArticulos(articulos);
            recargarArticulos();
        }
    }

    // üì• Obtener art√≠culos de localStorage
    function obtenerArticulos() {
        return JSON.parse(localStorage.getItem('articulos')) || [];
    }

    // üì§ Guardar art√≠culos en localStorage
    function guardarArticulos(articulos) {
        localStorage.setItem('articulos', JSON.stringify(articulos));
    }

    // üîÑ Recargar art√≠culos en pantalla
    function recargarArticulos() {
        listaArticulos.innerHTML = '';
        const articulos = obtenerArticulos();
        articulos.forEach(art => mostrarArticulo(art));
    }
</script>


</body>
</html>
